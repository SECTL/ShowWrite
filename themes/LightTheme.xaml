<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:services="clr-namespace:ShowWrite.Services">

    <!-- 颜色资源 -->
    <SolidColorBrush x:Key="WindowBackgroundBrush" Color="#F5F5F5"/>
    <SolidColorBrush x:Key="ToolbarBackgroundBrush" Color="Transparent"/>
    <SolidColorBrush x:Key="IconBrush" Color="#333333"/>
    <SolidColorBrush x:Key="TextBrush" Color="#333333"/>
    <SolidColorBrush x:Key="PopupBackground" Color="#FFFFFF"/>
    <SolidColorBrush x:Key="PopupBorder" Color="#CCCCCC"/>
    <SolidColorBrush x:Key="ButtonBackground" Color="#FFFFFF"/>
    <SolidColorBrush x:Key="ButtonBorder" Color="#CCCCCC"/>
    <SolidColorBrush x:Key="ButtonHoverBackground" Color="#F0F0F0"/>
    <SolidColorBrush x:Key="ButtonPressedBackground" Color="#E0E0E0"/>
    <SolidColorBrush x:Key="ToggleButtonCheckedBackground" Color="#2980B9"/>
    <SolidColorBrush x:Key="ToggleButtonCheckedBorder" Color="#1C6399"/>

    <!-- 按钮基础样式 - 白底黑标 -->
    <Style x:Key="ButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource ButtonBackground}"/>
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Width" Value="64"/>
        <Setter Property="Height" Value="64"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border" Background="{TemplateBinding Background}" 
                            BorderBrush="{StaticResource ButtonBorder}" BorderThickness="1" CornerRadius="4">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ButtonHoverBackground}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ButtonPressedBackground}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ToggleButton基础样式 - 白底黑标 -->
    <Style x:Key="ToggleButtonStyle" TargetType="ToggleButton">
        <Setter Property="Background" Value="{StaticResource ButtonBackground}"/>
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Width" Value="64"/>
        <Setter Property="Height" Value="64"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border x:Name="border" Background="{TemplateBinding Background}" 
                            BorderBrush="{StaticResource ButtonBorder}" BorderThickness="1" CornerRadius="4">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ButtonHoverBackground}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ButtonPressedBackground}"/>
                        </Trigger>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ToggleButtonCheckedBackground}"/>
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ToggleButtonCheckedBorder}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 移动/画笔/橡皮擦特殊样式 -->
    <Style x:Key="ToolToggleButtonStyle" TargetType="ToggleButton" BasedOn="{StaticResource ToggleButtonStyle}">
        <!-- 继承ToggleButtonStyle的所有属性 -->
    </Style>

    <!-- 照片按钮特殊样式 -->
    <Style x:Key="PhotoButtonStyle" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
        <!-- 继承ButtonStyle的所有属性 -->
    </Style>

    <!-- 更多按钮样式 - 白底黑标 -->
    <Style x:Key="MoreButtonStyle" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
        <!-- 继承ButtonStyle的所有属性 -->
    </Style>

    <!-- 菜单按钮样式 - 扁平化，无边框，背景适配主题 -->
    <Style x:Key="MenuButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource ButtonHoverBackground}"/>
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border" Background="{TemplateBinding Background}" 
                            BorderThickness="0" CornerRadius="0">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ButtonHoverBackground}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ButtonPressedBackground}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Expander 样式 - 向左展开的照片栏 -->
    <Style x:Key="PhotoExpanderStyle" TargetType="Expander">
        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        <Setter Property="Background" Value="{StaticResource PopupBackground}"/>
        <Setter Property="BorderBrush" Value="{StaticResource PopupBorder}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Expander">
                    <Border Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="6,0,0,6">
                        <DockPanel>
                            <!-- 标题栏（右侧） -->
                            <ToggleButton x:Name="HeaderSite" 
                                          DockPanel.Dock="Right"
                                          IsChecked="{Binding IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                          Cursor="Hand">
                                <ToggleButton.Template>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Border Background="{StaticResource ButtonHoverBackground}" 
                                                Width="50" CornerRadius="0,6,6,0">
                                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                                <Viewbox Width="24" Height="24">
                                                    <Path x:Name="ArrowPath" 
                                                          Fill="{StaticResource IconBrush}" 
                                                          Data="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6 1.41-1.41z"
                                                          RenderTransformOrigin="0.5,0.5">
                                                        <Path.RenderTransform>
                                                            <RotateTransform x:Name="ArrowRotate" Angle="0"/>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </Viewbox>
                                                <TextBlock Text="{Binding Source={x:Static services:LanguageManager.Instance}, Path=Translations[Photos]}"
                                                          FontSize="10"
                                                          Foreground="{StaticResource TextBrush}"
                                                          HorizontalAlignment="Center"
                                                          Margin="0,4,0,0"/>
                                            </StackPanel>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsChecked" Value="True">
                                                <Trigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetName="ArrowRotate" 
                                                                           Storyboard.TargetProperty="Angle"
                                                                           To="180" Duration="0:0:0.3"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </Trigger.EnterActions>
                                                <Trigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetName="ArrowRotate" 
                                                                           Storyboard.TargetProperty="Angle"
                                                                           To="0" Duration="0:0:0.3"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </Trigger.ExitActions>
                                            </Trigger>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="ArrowPath" Property="Fill" Value="{StaticResource ToggleButtonCheckedBackground}"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </ToggleButton.Template>
                            </ToggleButton>
                            
                            <!-- 内容区域 -->
                            <ContentPresenter x:Name="ExpandSite" 
                                            Visibility="Collapsed"
                                            DockPanel.Dock="Left"
                                            Margin="0"/>
                        </DockPanel>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsExpanded" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandSite" Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandSite" Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Collapsed}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>